var basketball =
  "data:image/png;base64,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";
var w = window.innerWidth;
var h = window.innerHeight;
var total = 1;

var balls = [],
  labels = ["ball1", "ball2"];


//Random Number generator
function random(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

var Engine = Matter.Engine,
  Render = Matter.Render,
  World = Matter.World,
  Composites = Matter.Composites,
  Composite = Matter.Composite,
  Bodies = Matter.Bodies,
  Body = Matter.Body,
  Runner = Matter.Runner,
  Events = Matter.Events,
  Constraint = Matter.Constraint,
  MouseConstraint = Matter.MouseConstraint,
  Detector = Matter.Detector,
  Mouse = Matter.Mouse;

var engine = Engine.create();

var render = Render.create({
  element: document.body,
  engine: engine,
  options: {
    width: w,
    height: h,
    wireframes: false,
    background:
      "linear-gradient(#FFF8E1,#FFF8E1,#FFF8E1,#FFECB3 97% ,rgb(253,184,39) 97%)"
  }
});

var basketOptions = {
  isStatic: true,
  render: {
    fillStyle: "darkorange",
    strokeStyle: "black"
  }
};
var netStyle = {
  render: {
    fillStyle: "white",
    strokeStyle: "black"
  }
};

//Extra thick so the frame rate doesn't allow it to escape
var topWall = Bodies.rectangle(w / 2, -200, w, 400, { isStatic: true });
var leftWall = Bodies.rectangle(-200, h / 2, 400, h, { isStatic: true });
var rightWall = Bodies.rectangle(w + 200, h / 2, 400, h, { isStatic: true });
var bottomWall = Bodies.rectangle(w / 2, h + 200, w, 400, { isStatic: true });

var rim1 = Bodies.circle(w - 90, h / 2 - h / 12, h / 120, basketOptions);
var rim2 = Bodies.circle(90, h / 2 - h / 12, h / 120, basketOptions);
var rim3 = Bodies.circle(w - 5, h / 2 - h / 12, h / 120, basketOptions);
var rim4 = Bodies.circle(5, h / 2 - h / 12, h / 120, basketOptions);
var basketBottom1 = Bodies.rectangle(w - 45, h / 2, 100, 8, basketOptions);
var basketBottom2 = Bodies.rectangle(45, h / 2, 100, 8, basketOptions);

//right front net
//stack(xx, yy, columns, rows, columnGap, rowGap, callback)
var net1 = Composites.stack(w - 85, h / 2 - h / 12, 7, 1, 1, 0, function(x, y) {
  return Bodies.circle(x, y, 4, netStyle);
});
//left front net
var net2 = Composites.stack(95, h / 2 - h / 12, 7, 1, 1, 0, function(x, y) {
  return Bodies.circle(x, y, 4, netStyle);
});
var net3 = Composites.stack(w - 5, h / 2 - h / 12, 7, 1, 1, 0, function(x, y) {
  return Bodies.circle(x, y, 4, netStyle);
});
//left front net
var net4 = Composites.stack(5, h / 2 - h / 12, 7, 1, 1, 0, function(x, y) {
  return Bodies.circle(x, y, 4, netStyle);
});

//chain(composite, xOffsetA, yOffsetA, xOffsetB, yOffsetB, options)
var chain = Composites.chain(net1, 0.5, 0, -0.5, 0, {
  stiffness: 1,
    label: "chain"
});
Composite.add(
  net1,
  Constraint.create({
    bodyA: net1.bodies[0],
    pointB: { x: w - 90, y: h / 2 - h / 12 },
    stiffness: 0.95
  })
);

var chain2 = Composites.chain(net2, 0.5, 0, -0.5, 0, {
  stiffness: 1,
    label: "chain"
});
Composite.add(
  net2,
  Constraint.create({
    bodyA: net2.bodies[0],
    pointB: { x: 90, y: h / 2 - h / 12 },
    stiffness: 0.95
  })
);

var chain3 = Composites.chain(net3, 0.5, 0, -0.5, 0, {
  stiffness: 1,
    label: "chain"
});
Composite.add(
  net3,
  Constraint.create({
    bodyA: net3.bodies[0],
    pointB: { x: w - 5, y: h / 2 - h / 12 },
    stiffness: 0.95
  })
);

var chain4 = Composites.chain(net4, 0.5, 0, -0.5, 0, {
  stiffness: 1,
    label: "chain"
});
Composite.add(
  net4,
  Constraint.create({
    bodyA: net4.bodies[0],
    pointB: { x: 5, y: h / 2 - h / 12 },
    stiffness: 0.95
  })
);

//var rectangle = Bodies.rectangle(x, y, w, h);

for (var i = 0; i < total; ++i) {
  balls[i] = Bodies.circle(
    //start in the middle and randomly offset 20 in all directions
    w / 2 + random(-20, 20),
    h / 2 + random(-20, 20),
    35,
    {
      friction: 0.05,
      frictionAir: 0.006,
      restitution: 0.9,
      render: {
        sprite: {
          texture: basketball,
          xScale: 0.75,
          yScale: 0.75
        }
      }
    }
  );
}

var goalOptions = {
  isStatic: true,
  render: {
    fillStyle: "#84FFFF",
    strokeStyle: "#000"
  }
};

var goalTopRight = Bodies.rectangle(w - 15, (h / 2 - h / 12 + 40), 30, 10, {
  label: "reset",
  isSensor: true,
  isStatic: true,
  render: {
    strokeStyle: "transparent",
    fillStyle: "transparent",
    lineWidth: 1
  }
});
var goalTopLeft = Bodies.rectangle(15, (h / 2 - h / 12 + 40), 30, 10, {
  label: "reset",
  isSensor: true,
  isStatic: true,
  render: {
    strokeStyle: "transparent",
    fillStyle: "transparent",
    lineWidth: 1
  }
});

//for use if the 1 sensor solution is too glitchy
var goalBtmRight = Bodies.rectangle(w - 75, (h / 2 - h / 12 + 40), 30, 10, {
  label: "reset",
  isSensor: true,
  isStatic: true,
  render: {
    strokeStyle: "transparent",
    fillStyle: "transparent",
    lineWidth: 1
  }
});
var goalBtmLeft = Bodies.rectangle(75, (h / 2 - h / 12 + 40), 30, 10, {
  label: "reset",
  isSensor: true,
  isStatic: true,
  render: {
    strokeStyle: "transparent",
    fillStyle: "transparent",
    lineWidth: 1
  }
});


//Adds the walls to the world
World.add(engine.world, [
  topWall,
  leftWall,
  rightWall,
  bottomWall,
  rim1,
  //rim2,
  rim3,
  //rim4,
  //basketBottom1,
  //basketBottom2,
  chain,
  //chain2,
  chain3,
  //chain4,
  goalTopRight,
  //goalTopLeft,
  goalBtmRight
  //goalBtmLeft
]);

//Adds all the balls to the world
for (var i = 0; i < total; ++i) {
  World.add(engine.world, [balls[i]]);
}

// add mouse control
var mouse = Mouse.create(render.canvas),
  mouseConstraint = MouseConstraint.create(engine, {
    mouse: mouse,
    constraint: {
      stiffness: 0.2,
      render: {
        visible: false
      }
    }
  });

World.add(engine.world, mouseConstraint);

Engine.run(engine);

Render.run(render);

function upAndRight() {
  for (var i = 0; i < total; ++i) {
    Body.setAngularVelocity(balls[i], Math.PI / random(-6, -3));
    Body.setVelocity(balls[i], { x: random(8, 10), y: -h / 50 });
  }
}

function upAndLeft() {
  for (var i = 0; i < total; ++i) {
    Body.setAngularVelocity(balls[i], Math.PI / random(3, 6));
    Body.setVelocity(balls[i], { x: random(-10, -8), y: -h / 50 });
  }
}

function uppity() {
  for (var i = 0; i < total; ++i) {
    Body.setVelocity(balls[i], { x: 0, y: -h / 50 });
  }
}

function downity() {
  for (var i = 0; i < total; ++i) {
    Body.setVelocity(balls[i], { x: 0, y: h / 50 });
  }
}

function randomize() {
  for (var i = 0; i < total; ++i) {
    Body.setVelocity(balls[i], { x: random(-20, 20), y: random(-20, 0) });
    Body.setAngularVelocity(balls[i], Math.PI / random(3, 6));
  }
}

//positive multiplier spins right, negative spins left
var mul = 1;

$(document).keydown(function(e) {
  switch (e.which) {
    case 37: // left arrow button
      upAndLeft();
      break;

    case 38: // up arrow button
      uppity();
      break;

    case 39: // right arrow button
      upAndRight();
      break;

    case 40: // down
      downity();
      break;

    case 32: // down
      randomize();
      break;

    default:
      return; // exit this handler for other keys
  }
  e.preventDefault(); // prevent the default action (scroll / move caret)
}); //

$("#right").on({
  click: function() {
    upAndRight();
  }
});
$("#left").on({
  click: function() {
    upAndLeft();
  }
});

//collision logic for scoring
var blueScore = 0;
var redScore = 0;
var rightScore1 = false;
var rightScore2 = false;

Events.on(engine, "collisionStart", function(event) {
  var pairs = event.pairs;
  for (var i = 0; i < pairs.length; i++) {
    var pair = pairs[i];
    //the net's radius is 4, the ball is 35. 
    //use this parameter to ignore collisions from the net
    
    //if a body touches the top sensor and is traveling downward
    if (pair.bodyB === goalTopRight && pair.bodyA.circleRadius === 35 && pair.bodyA.velocity.y > 0) {
      rightScore1 = true;
      //console.log(pair.bodyA.velocity.y);
    }
    if (pair.bodyB === goalBtmRight && pair.bodyA.circleRadius === 35 && pair.bodyA.velocity.y > 0) {
      rightScore2 = true;
      //goalBtmRight.render.strokeStyle = "green";
    }
    if (rightScore1 == true && rightScore2 == true){
            redScore++;
			if(redScore == 1) {
    		$("#red").html("Enter Site → " + redScore);
			
    		$("#red").html(redScore);
			}
      
      rightScore1 = false;
      rightScore2 = false;
			document.getElementById("kobe").style.opacity = "1";
			document.getElementById("kobe").style.fontSize = "18em";
			setTimeout(function(){ document.getElementById("kobe").style.opacity = "0"; }, 800);
			setTimeout(function(){
			document.getElementById("kobe").style.fontSize = "2em"; }, 1500);
    }

  }
});